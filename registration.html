<!DOCTYPE html>
<html>
<head>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8" />
    <title>Регистрация</title>
</head>

<body>
    <div>
        <button type="button" class="btn btn-primary" onclick="goToLoginPage()">Авторизация</button>
    </div>

    <div class="container mt-5">
        <div class="row">
            <div class="col-md-6">
                <img src="2813838.jpg" class="img-fluid" alt="Картинка">
            </div>
            <div class="col-md-6">
                <form class="register-form" onsubmit="signup(event)">
                    <h2>Регистрация</h2>
                    <div class="form-group">
                        <label for="newEmail">Email</label>
                        <input type="email" class="form-control" id="newEmail" placeholder="Введите ваш email">
                    </div>
                    <div class="form-group">
                        <label for="nickname">Никнейм</label>
                        <input type="text" class="form-control" id="nickname" placeholder="Введите ваш никнейм">
                    </div>
                    <div class="form-group">
                        <label for="DateOfBirth">Дата рождения</label>
                        <input type="date" class="form-control" id="DateOfBirth" placeholder="Введите дату вашего рождения">
                    </div>
                    <div class="form-group">
                        <label for="newPassword">Пароль</label>
                        <input type="password" class="form-control" id="newPassword" placeholder="Введите пароль">
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Подтвердите пароль</label>
                        <input type="password" class="form-control" id="confirmPassword" placeholder="Повторите пароль">
                    </div>
                    <div class="form-group form-check">
                        <input type="checkbox" class="form-check-input" id="agreeTerms">
                        <label class="form-check-label" for="agreeTerms">Согласен с условиями</label>
                    </div>
                   
                    <button type="submit" class="btn btn-primary" id="registerButton">Зарегистрироваться</button>
                </form>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
    <script type="module">// Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-analytics.js";
        import {
          getAuth,
          createUserWithEmailAndPassword,
        } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-auth.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
        
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyCM-xT6qR91K3miVN-24pZgb6qTEMRdsNk",
          authDomain: "kaffedra-fdbdb.firebaseapp.com",
          projectId: "kaffedra-fdbdb",
          storageBucket: "kaffedra-fdbdb.appspot.com",
          messagingSenderId: "117036470623",
          appId: "1:117036470623:web:a46165b9777ca3eaa066ea",
          measurementId: "G-F6J4GJMF68"
        };
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth()
        
        var email = document.getElementById("newEmail")
        var user = document.getElementById("nickname")
        var password = document.getElementById("newPassword")
        var password1 = document.getElementById("confirmPassword")
        var checkbox = document.getElementById("agreeTerms");


       
        
        window.signup = function(e) {  
          e.preventDefault(); 
        
          if (user.value == "" || email.value == "" || password.value == "" || password1.value == "") {
            alert("All Field Are Required");
            return false;
          }
        
          if (password.value != password1.value) {
            alert("Password Confirmation is Wrong");
            return false;
          }
        
          var obj = {
            firstName: user.value,
            email: email.value,
            password: password.value,
          };
            if (checkbox.checked) {
          createUserWithEmailAndPassword(auth, obj.email, obj.password)
            .then(function(success) {
         
              alert("Signup Successful");
            })
            .catch(function(err) {
              alert("Error: " + err);
            });

            } else {
                alert("Чекбокс не отмечен!");
            }
            console.log();

            

        };

       
    </script>
</body>
</html>

